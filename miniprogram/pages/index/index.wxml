<!-- é¦–é¡µé¡µé¢æ¨¡æ¿ -->
<view class="container">
  <!-- èƒŒæ™¯è£…é¥° -->
  <view class="bg-decoration">
    <view class="heart heart-1 {{heartAnimation ? 'heart-animate' : ''}}">ğŸ’•</view>
    <view class="heart heart-2 {{heartAnimation ? 'heart-animate' : ''}}">ğŸ’–</view>
    <view class="heart heart-3 {{heartAnimation ? 'heart-animate' : ''}}">ğŸ’—</view>
  </view>

  <!-- ä¸»è¦å†…å®¹ -->
  <view class="main-content {{showContent ? 'fade-in' : ''}}">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <view class="header">
      <view class="title-container">
        <text class="main-title">ä¸ƒå¤•åŒ¹é…</text>
        <text class="subtitle">å‘ç°ä½ ä»¬ä¹‹é—´çš„å…´è¶£åŒ¹é…</text>
      </view>
    </view>

    <!-- è¾“å…¥åŒºåŸŸ -->
    <view class="input-section">
      <view class="input-group">
        <view class="input-label">
          <text class="label-icon">ğŸ‘¤</text>
          <text class="label-text">ä½ çš„åå­—</text>
        </view>
        <input 
          class="input-field" 
          placeholder="è¯·è¾“å…¥ä½ çš„åå­—" 
          value="{{user1Name}}"
          bindinput="onUser1NameInput"
          maxlength="10"
        />
      </view>

      <view class="input-group">
        <view class="input-label">
          <text class="label-icon">ğŸ’‘</text>
          <text class="label-text">å¯¹æ–¹çš„åå­—</text>
        </view>
        <input 
          class="input-field" 
          placeholder="è¯·è¾“å…¥å¯¹æ–¹çš„åå­—" 
          value="{{user2Name}}"
          bindinput="onUser2NameInput"
          maxlength="10"
        />
      </view>
    </view>

    <!-- å½“å‰ä¼šè¯çŠ¶æ€ -->
    <view wx:if="{{currentSession}}" class="session-status">
      <view class="status-card">
        <view class="status-header">
          <text class="status-title">å½“å‰ä¼šè¯</text>
          <text class="status-badge {{currentSession.status === 'completed' ? 'completed' : 'waiting'}}">
            {{currentSession.status === 'completed' ? 'å·²å®Œæˆ' : 'è¿›è¡Œä¸­'}}
          </text>
        </view>
        <view class="status-info">
          <text class="status-text">{{currentSession.user1Name}} â¤ï¸ {{currentSession.user2Name}}</text>
          <text class="status-time">åˆ›å»ºäº {{currentSession.createdAt}}</text>
        </view>
        <view class="status-actions">
          <button 
            class="btn btn-secondary" 
            bindtap="clearSession"
            size="mini"
          >
            æ¸…é™¤è®°å½•
          </button>
          <button 
            class="btn btn-primary" 
            bindtap="startMatching"
            size="mini"
          >
            {{currentSession.status === 'completed' ? 'æŸ¥çœ‹ç»“æœ' : 'ç»§ç»­å¡«å†™'}}
          </button>
        </view>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-section">
      <button 
        class="btn btn-primary btn-large {{isLoading ? 'loading' : ''}}"
        bindtap="startMatching"
        disabled="{{isLoading || !user1Name || !user2Name}}"
      >
        <text wx:if="{{!isLoading}}" class="btn-text">
          {{currentSession ? 'ç»§ç»­åŒ¹é…' : 'å¼€å§‹åŒ¹é…'}}
        </text>
        <view wx:else class="loading-spinner"></view>
      </button>
    </view>

    <!-- åŠŸèƒ½ä»‹ç» -->
    <view class="features-section">
      <view class="feature-item">
        <text class="feature-icon">â­</text>
        <view class="feature-content">
          <text class="feature-title">æ˜Ÿåº§è¿æ¥</text>
          <text class="feature-desc">é€‰æ‹©å…´è¶£ä½œä¸ºæ˜Ÿæ˜Ÿï¼Œå½¢æˆç‹¬ç‰¹çš„æ˜Ÿåº§è¿çº¿</text>
        </view>
      </view>
      
      <view class="feature-item">
        <text class="feature-icon">ğŸ’</text>
        <view class="feature-content">
          <text class="feature-title">æ™ºèƒ½åŒ¹é…</text>
          <text class="feature-desc">åŸºäºå…´è¶£é‡å å’Œé‡è¦ç¨‹åº¦è®¡ç®—åŒ¹é…åº¦</text>
        </view>
      </view>
      
      <view class="feature-item">
        <text class="feature-icon">ğŸ¯</text>
        <view class="feature-content">
          <text class="feature-title">æ´»åŠ¨æ¨è</text>
          <text class="feature-desc">ä¸ºä½ ä»¬æ¨èæœ€é€‚åˆçš„çº¦ä¼šæ´»åŠ¨</text>
        </view>
      </view>
    </view>
  </view>
</view>